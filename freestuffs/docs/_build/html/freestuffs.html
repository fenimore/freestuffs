

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>freestuffs package &mdash; freestuffs 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="freestuffs 0.1 documentation" href="index.html"/>
        <link rel="prev" title="Cookbook" href="cookbook.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> freestuffs
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">freestuffs package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-freestuffs.city_list">freestuffs.city_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-freestuffs.stuff">freestuffs.stuff module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#freestuffs-stuff-charter-module">freestuffs.stuff_charter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-freestuffs.stuff_scraper">freestuffs.stuff_scraper module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#freestuffs-treasure-script-module">freestuffs.treasure_script module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-contents">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">freestuffs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>freestuffs package</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/freestuffs.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="freestuffs-package">
<h1>freestuffs package<a class="headerlink" href="#freestuffs-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-freestuffs.city_list">
<span id="freestuffs-city-list-module"></span><h2>freestuffs.city_list module<a class="headerlink" href="#module-freestuffs.city_list" title="Permalink to this headline">¶</a></h2>
<p>Craiglist friendly city names.</p>
<p>Run this script inorder to print out a dict of
Craiglist city names, for use in creating a valid url.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>CITIES &#8211; A dict of cities, with the human-friendly</dt>
<dd><p class="first last">name as the key
and url friendly name as the value.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="function">
<dt id="freestuffs.city_list.scrape_cities">
<code class="descclassname">freestuffs.city_list.</code><code class="descname">scrape_cities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.city_list.scrape_cities" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrape city and link for dict of valid names.</p>
</dd></dl>

</div>
<div class="section" id="module-freestuffs.stuff">
<span id="freestuffs-stuff-module"></span><h2>freestuffs.stuff module<a class="headerlink" href="#module-freestuffs.stuff" title="Permalink to this headline">¶</a></h2>
<p>This houses the Stuff class.</p>
<p>Use stuff_scraper in order to gather a list of
stuffs. For testing, the reverse Geolocator is at 
nominatim.openstreetmap.org.</p>
<p>Example usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">stuff_scraper</span> <span class="k">import</span> <span class="n">StuffScraper</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stuffs</span> <span class="o">=</span> <span class="n">StuffScraper</span><span class="p">(</span><span class="s1">&#39;montreal&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">stuffs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stuffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">thing</span><span class="p">)</span>  <span class="c1"># Title</span>
<span class="go">Meubles / furniture</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stuffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_coordinates</span><span class="p">()</span> <span class="c1"># pass precise=True in constructor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stuffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">coordinates</span><span class="p">)</span> <span class="c1"># to automatically fetch coordinates</span>
<span class="go">[&#39;45.617854&#39;, &#39;-73.633931&#39;]</span>
</pre></div>
</div>
<dl class="class">
<dt id="freestuffs.stuff.Stuff">
<em class="property">class </em><code class="descclassname">freestuffs.stuff.</code><code class="descname">Stuff</code><span class="sig-paren">(</span><em>thing</em>, <em>url</em>, <em>location</em>, <em>image</em>, <em>user_location</em><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff.Stuff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A freestuff Craigslist object.</p>
<p>Fill this object with the information from
a craigslist page. (There is no price attribute,
because it is designed for invaluable things).
The precise coordinates are not initially set,
because they require significantly more requests.
See class method get_coordinates().</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd><ul class="first last simple">
<li>thing &#8211; title of object passed explicitly</li>
<li>url &#8211; constructed from url, implicit</li>
<li>image &#8211; passed explicitly</li>
<li>user_location &#8211; passed explicitly, requires clean up</li>
<li>coordinates &#8211; array of longitude and latitude</li>
</ul>
</dd>
<dt>Keyword arguements:</dt>
<dd><ul class="first last simple">
<li>thing &#8211;</li>
<li>url &#8211;</li>
<li>location &#8211;</li>
<li>image &#8211;</li>
<li>user_location &#8211; must conform to valid craiglist url</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="freestuffs.stuff.Stuff.find_coordinates">
<code class="descname">find_coordinates</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff.Stuff.find_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get and set longitude and Latitude</p>
<p>Scrape individual posting page, if no
coordinates are found, cascade precision
(try location, try user_location, or set
to zero).  Returns an array, first 
latitude and then longitude.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="freestuffs-stuff-charter-module">
<h2>freestuffs.stuff_charter module<a class="headerlink" href="#freestuffs-stuff-charter-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-freestuffs.stuff_scraper">
<span id="freestuffs-stuff-scraper-module"></span><h2>freestuffs.stuff_scraper module<a class="headerlink" href="#module-freestuffs.stuff_scraper" title="Permalink to this headline">¶</a></h2>
<p>This module is a Craigslist scraper.</p>
<p>Example usage:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">stuff_scraper</span> <span class="k">import</span> <span class="n">StuffScraper</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stuffs</span> <span class="o">=</span> <span class="n">StuffScraper</span><span class="p">(</span><span class="s1">&#39;montreal&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">stuffs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">stuffs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">thing</span><span class="p">)</span> <span class="c1"># Print title</span>
<span class="go">Meubles / furniture</span>
</pre></div>
</div>
<dl class="class">
<dt id="freestuffs.stuff_scraper.StuffScraper">
<em class="property">class </em><code class="descclassname">freestuffs.stuff_scraper.</code><code class="descname">StuffScraper</code><span class="sig-paren">(</span><em>place</em>, <em>_quantity</em>, <em>precise=False</em>, <em>use_cl=False</em><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff_scraper.StuffScraper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The freestuffs Craigslist scraper.</p>
<p>Compile parrellel lists of stuff attributes
in order to store a freestuffs list, with an
option for including stuff coordinates.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd><ul class="first last simple">
<li>stuffs &#8211; a list of stuff objects</li>
<li>soup &#8211; bs4 soup of Craiglist page</li>
<li>place &#8211; the city to search, in Craigslist friendly format</li>
<li>locs, things, images, urls &#8211; stuff attributes lists</li>
<li>quantity &#8211; how many stuffs gathered</li>
</ul>
</dd>
<dt>Keyword arguments:</dt>
<dd><ul class="first last">
<li><p class="first">_quantity &#8211; how many stuffs to gather</p>
</li>
<li><dl class="first docutils">
<dt>precise &#8211; A boolean to explicitly use geolocator</dt>
<dd><p class="first last">and crawl individual posting URL</p>
</dd>
</dl>
</li>
<li><p class="first">use_cl &#8211; user input for place</p>
</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="freestuffs.stuff_scraper.StuffScraper.get_images">
<code class="descname">get_images</code><span class="sig-paren">(</span><em>_soup</em><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff_scraper.StuffScraper.get_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrape images.</p>
<p>Uses wikpedia No-image image if no image is found.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><ul class="first last simple">
<li>soup - bs4 object of a Craiglist freestuffs page</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="freestuffs.stuff_scraper.StuffScraper.get_locations">
<code class="descname">get_locations</code><span class="sig-paren">(</span><em>user_place</em>, <em>_soup</em><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff_scraper.StuffScraper.get_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Scape locations.</p>
<p>Returns a list of locations, more or less
precise. Concatnate user_place to string
in order to aid geolocator in case of
duplicate location names in world. Yikes.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><ul class="first last simple">
<li>user_place &#8211; the city, in Craigslist format</li>
<li>soup &#8211; bs4 object of a Craiglist freestuffs page</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="freestuffs.stuff_scraper.StuffScraper.get_things">
<code class="descname">get_things</code><span class="sig-paren">(</span><em>_soup</em><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff_scraper.StuffScraper.get_things" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrape titles.</p>
<p>Keyword arguments:
- soup - bs4 object of a Craiglist freestuffs page</p>
</dd></dl>

<dl class="method">
<dt id="freestuffs.stuff_scraper.StuffScraper.get_urls">
<code class="descname">get_urls</code><span class="sig-paren">(</span><em>_soup</em><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff_scraper.StuffScraper.get_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrape stuff urls.</p>
<dl class="docutils">
<dt>Keyword arguments:</dt>
<dd><ul class="first last simple">
<li>soup - bs4 object of a Craiglist freestuffs page</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="freestuffs.stuff_scraper.StuffScraper.refine_city_name">
<code class="descname">refine_city_name</code><span class="sig-paren">(</span><em>user_place</em><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff_scraper.StuffScraper.refine_city_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Refine location for two-word cities.</p>
</dd></dl>

<dl class="method">
<dt id="freestuffs.stuff_scraper.StuffScraper.setup_place">
<code class="descname">setup_place</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#freestuffs.stuff_scraper.StuffScraper.setup_place" title="Permalink to this definition">¶</a></dt>
<dd><p>Take cl input of user location.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="freestuffs-treasure-script-module">
<h2>freestuffs.treasure_script module<a class="headerlink" href="#freestuffs-treasure-script-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-contents">
<h2>Module contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-freestuffs"></span></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="cookbook.html" class="btn btn-neutral" title="Cookbook" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Fenimore Love MIT.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>